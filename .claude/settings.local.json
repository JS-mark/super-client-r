{
  "permissions": {
    "allow": [
      "Bash(pnpm run check:*)",
      "Bash(pnpm run lint:*)",
      "Bash(pnpm run dev:*)",
      "Bash(node:*)",
      "Bash(pnpm add:*)",
      "Bash(pnpm check:*)",
      "Bash(pnpm list:*)",
      "Bash(pnpm build:*)",
      "Bash(pnpm run typecheck:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat: add drag support to floating widget\n\nAdd drag handle with WebkitAppRegion to allow moving the floating window. The drag handle is visible on hover and positioned on the left side of the input bar.\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(pnpm dev:*)",
      "Bash(tsc -b:*)",
      "Bash(pnpm tsc:*)",
      "Bash(npx tsc:*)",
      "Bash(git commit:*)",
      "Bash(pnpm lint:*)",
      "Bash(pnpm run build:*)",
      "Bash(npx tsx:*)",
      "WebFetch(domain:skillsmp.com)",
      "WebSearch",
      "Bash(ls:*)",
      "WebFetch(domain:www.skillsmp.com)",
      "Bash(find:*)",
      "Bash(lsof:*)",
      "Bash(curl:*)",
      "Bash(kill:*)",
      "Bash(pkill:*)",
      "Bash(python3 -m json.tool:*)",
      "Bash(git reset:*)",
      "Bash(wc -l:*)",
      "Bash(timeout 10 pnpm:*)",
      "Bash(pnpm docs:build:*)",
      "Bash(git remote:*)",
      "Bash(git push)",
      "Bash(pnpm install:*)",
      "Bash(/tmp/fix_i18n.py << 'ENDOFSCRIPT'\nimport re\nimport os\nimport sys\n\n# Define the namespace mappings\nNAMESPACES = [\n    'app', 'chat', 'models', 'mcp', 'skills', 'settings', \n    'menu', 'user', 'window', 'error', 'home', 'common'\n]\n\ndef fix_i18n_in_file\\(filepath\\):\n    with open\\(filepath, 'r', encoding='utf-8'\\) as f:\n        content = f.read\\(\\)\n    \n    original_content = content\n    \n    for ns in NAMESPACES:\n        # Pattern 1: t\\(\"ns.key\", \"fallback\"\\) - with fallback\n        pattern1 = rf't\\\\\\(\"{ns}\\\\.\\([^\"]+\\)\"\\\\s*,\\\\s*\"\\([^\"]*\\)\"\\\\\\)'\n        replacement1 = rf't\\(\"\\\\1\", {{ ns: \"{ns}\" }}, \"\\\\2\"\\)'\n        content = re.sub\\(pattern1, replacement1, content\\)\n        \n        # Pattern 2: t\\(\"ns.key\"\\) - without fallback\n        pattern2 = rf't\\\\\\(\"{ns}\\\\.\\([^\"]+\\)\"\\\\\\)\\(?!\\\\s*\\\\}}\\)'\n        replacement2 = rf't\\(\"\\\\1\", {{ ns: \"{ns}\" }}\\)'\n        content = re.sub\\(pattern2, replacement2, content\\)\n        \n        # Pattern 3: t\\(\"ns.key\", {{ interpolation }}\\) - with interpolation object\n        pattern3 = rf't\\\\\\(\"{ns}\\\\.\\([^\"]+\\)\"\\\\s*,\\\\s*\\\\{{'\n        replacement3 = rf't\\(\"\\\\1\", {{ ns: \"{ns}\",'\n        content = re.sub\\(pattern3, replacement3, content\\)\n    \n    if content != original_content:\n        with open\\(filepath, 'w', encoding='utf-8'\\) as f:\n            f.write\\(content\\)\n        print\\(f\"Updated: {filepath}\"\\)\n        return True\n    return False\n\nif __name__ == '__main__':\n    files = sys.argv[1:]\n    updated_count = 0\n    for filepath in files:\n        if os.path.exists\\(filepath\\):\n            if fix_i18n_in_file\\(filepath\\):\n                updated_count += 1\n        else:\n            print\\(f\"File not found: {filepath}\"\\)\n    \n    print\\(f\"\\\\nTotal files updated: {updated_count}\"\\)\nENDOFSCRIPT)",
      "Bash(python3:*)",
      "Bash(/tmp/fix_i18n2.py:*)",
      "Bash(/tmp/fix_i18n3.py << 'ENDOFSCRIPT'\nimport re\nimport os\nimport sys\n\ndef fix_i18n_fallback_order\\(filepath\\):\n    with open\\(filepath, 'r', encoding='utf-8'\\) as f:\n        content = f.read\\(\\)\n    \n    original_content = content\n    \n    # Pattern: t\\(\"key\", { ns: \"xxx\" }, \"fallback\"\\) -> t\\(\"key\", \"fallback\", { ns: \"xxx\" }\\)\n    # This pattern matches t\\(\"...\", { ... }, \"...\"\\)\n    pattern = r't\\\\\\(\"\\([^\"]+\\)\"\\\\s*,\\\\s*\\(\\\\{[^}]+\\\\}\\)\\\\s*,\\\\s*\"\\([^\"]*\\)\"\\\\\\)'\n    \n    def replace_order\\(match\\):\n        key = match.group\\(1\\)\n        options = match.group\\(2\\)\n        fallback = match.group\\(3\\)\n        return f't\\(\"{key}\", \"{fallback}\", {options}\\)'\n    \n    content = re.sub\\(pattern, replace_order, content\\)\n    \n    if content != original_content:\n        with open\\(filepath, 'w', encoding='utf-8'\\) as f:\n            f.write\\(content\\)\n        print\\(f\"Updated: {filepath}\"\\)\n        return True\n    return False\n\nif __name__ == '__main__':\n    files = sys.argv[1:]\n    updated_count = 0\n    for filepath in files:\n        if os.path.exists\\(filepath\\):\n            if fix_i18n_fallback_order\\(filepath\\):\n                updated_count += 1\n        else:\n            print\\(f\"File not found: {filepath}\"\\)\n    \n    print\\(f\"\\\\nTotal files updated: {updated_count}\"\\)\nENDOFSCRIPT)",
      "Bash(git checkout:*)",
      "Bash(/tmp/fix2.py << 'EOF'\nimport re\n\nwith open\\('/Users/mark/myself/code/me/super-client-r/src/renderer/src/pages/Chat.tsx', 'r'\\) as f:\n    content = f.read\\(\\)\n\n# Replace the TOOLBAR_ITEMS onClick handler\nold_pattern = r'''onClick=\\\\{\\\\\\(\\\\\\) =\\\\> \\\\{\n\\\\t*// Handle toolbar item click\n\\\\t*if \\\\\\(item\\\\.id === \"prompt\"\\\\\\) \\\\{\n\\\\t*// Toggle prompt mode or show prompt selector\n\\\\t*setChatMode\\\\\\(\"skill\"\\\\\\);\n\\\\t*\\\\}\n\\\\t*\\\\}\\\\}'''\n\nnew_code = 'onClick={\\(\\) => handleToolbarClick\\(item.id\\)}'\n\ncontent = re.sub\\(old_pattern, new_code, content\\)\n\nwith open\\('/Users/mark/myself/code/me/super-client-r/src/renderer/src/pages/Chat.tsx', 'w'\\) as f:\n    f.write\\(content\\)\n\nprint\\(\"Fixed!\"\\)\nEOF)",
      "Bash(/tmp/analyze_i18n.py:*)",
      "Bash(/tmp/fix_i18n.py:*)",
      "Bash(/tmp/fix_i18n3.py:*)",
      "Bash(ln -s:*)",
      "Bash(/tmp/fix_errors.py << 'EOF'\nimport re\n\ndef fix_file\\(filepath, replacements\\):\n    with open\\(filepath, 'r'\\) as f:\n        content = f.read\\(\\)\n    \n    for old, new in replacements:\n        content = content.replace\\(old, new\\)\n    \n    with open\\(filepath, 'w'\\) as f:\n        f.write\\(content\\)\n    print\\(f\"Fixed {filepath}\"\\)\n\n# Fix shortcutStore.ts\nfix_file\\('src/renderer/src/stores/shortcutStore.ts', [\n    \\('.split\\(\"+\", { ns: \"common\" }\\)', '.split\\(\"+\"\\)'\\),\n    \\(\".split\\('+', { ns: \\\\\"common\\\\\" }\\)\", '.split\\(\"+\"\\)'\\),\n]\\)\n\n# Fix logWorker.ts\nfix_file\\('src/renderer/src/workers/logWorker.ts', [\n    \\('.split\\(\"\\\\\\\\n\", { ns: \"common\" }\\)', '.split\\(\"\\\\\\\\n\"\\)'\\),\n    \\(\".split\\('\\\\\\\\n', { ns: \\\\\"common\\\\\" }\\)\", '.split\\(\"\\\\\\\\n\"\\)'\\),\n    \\('.split\\(\",\", { ns: \"attachment\" }\\)', '.split\\(\",\"\\)'\\),\n    \\('.split\\(\".\", { ns: \"attachment\" }\\)', '.split\\(\".\"\\)'\\),\n]\\)\n\nprint\\(\"Done!\"\\)\nEOF)"
    ]
  }
}
