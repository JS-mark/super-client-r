# AI 聊天

Super Client R 提供强大的 AI 聊天功能，支持多种聊天模式和流式响应。

## 聊天模式

### Direct 模式（直接对话）

直接与 AI 模型对话，适合日常问答和简单任务。

**特点：**
- 快速响应
- 支持多轮对话
- 上下文记忆

**使用场景：**
- 日常问答
- 文本生成
- 代码解释

### Agent 模式（智能代理）

AI Agent 可以调用工具完成任务，适合复杂场景。

**特点：**
- 工具调用能力
- 自主任务执行
- 多步骤推理

**使用场景：**
- 数据分析
- 文件处理
- 自动化任务

### Skill 模式（技能调用）

使用已安装的技能插件执行特定任务。

**特点：**
- 预定义工具集
- 即装即用
- 可扩展

**使用场景：**
- 特定领域任务
- 集成第三方服务
- 自定义工作流

### MCP 模式（模型上下文协议）

通过 MCP 协议连接外部 AI 服务和工具。

**特点：**
- 标准化协议
- 广泛兼容
- 动态发现

**使用场景：**
- 连接多个 AI 模型
- 使用外部工具
- 企业集成

## 界面说明

### 聊天输入框

```
┌─────────────────────────────────────────┐
│  [Direct] [Agent] [Skill] [MCP]         │  ← 模式选择
├─────────────────────────────────────────┤
│                                         │
│  在这里输入消息，按 Enter 发送           │  ← 输入区域
│                                         │
├─────────────────────────────────────────┤
│ [+] [📎] [💡] [du] [📄] [🔧] | [➤]  [↑] │  ← 工具栏
└─────────────────────────────────────────┘
```

### 工具栏按钮

| 图标 | 功能 | 说明 |
|------|------|------|
| + | 引用 | 引用上下文或文件 |
| 📎 | 附件 | 上传文件附件 |
| 💡 | 提示词 | 快速插入提示词模板 |
| du | 百度 | 百度搜索集成 |
| 📄 | 文档 | 文档处理工具 |
| 🔧 | 工具 | 更多工具选项 |
| ➤ | 更多 | 展开更多选项 |
| ↑ | 发送 | 发送消息 |

## 快捷键

| 快捷键 | 功能 |
|--------|------|
| `Enter` | 发送消息 |
| `Shift + Enter` | 换行 |
| `Ctrl + L` | 清空对话 |
| `Ctrl + /` | 聚焦输入框 |
| `↑` | 编辑上一条消息 |

## 消息类型

### 用户消息

用户发送的消息，显示在右侧，带有渐变背景。

### AI 消息

AI 的回复，显示在左侧，支持 Markdown 格式。

### 工具调用消息

显示工具调用的状态和结果，可展开查看详情。

```
┌─────────────────────────────────┐
│ ⏳ tool_name          pending   │
│ ▼                              │
├─────────────────────────────────┤
│ Input:                          │
│ { "query": "example" }         │
│                                 │
│ Result:                         │
│ { "data": "..." }              │
│                                 │
│ Duration: 1200ms               │
└─────────────────────────────────┘
```

## 配置选项

### 模型设置

在设置页面配置：

- **API Key**: 模型提供商的 API 密钥
- **模型选择**: Claude-3.5-Sonnet、Claude-3-Opus 等
- **温度**: 控制输出的随机性 (0-1)
- **最大令牌**: 限制响应长度

### 界面设置

- **主题**: 深色/浅色/跟随系统
- **字体大小**: 小/中/大
- **代码高亮**: 开启/关闭

## 最佳实践

### 1. 选择合适的模式

- 简单问答 → Direct 模式
- 需要工具 → Agent 模式
- 特定任务 → Skill 模式
- 外部服务 → MCP 模式

### 2. 有效提问

- 提供清晰的上下文
- 分步骤描述复杂任务
- 使用系统提示词引导 AI

### 3. 管理对话

- 定期清理历史记录
- 使用引用功能保持上下文
- 保存重要对话到收藏

## 故障排除

### 消息发送失败

1. 检查网络连接
2. 验证 API Key 是否有效
3. 查看模型是否可用

### 响应缓慢

1. 检查网络延迟
2. 减少上下文长度
3. 选择更快的模型

### 工具调用失败

1. 确认工具已正确配置
2. 检查工具参数格式
3. 查看工具日志

## 示例

### 代码生成

```
User: 写一个 Python 函数计算斐波那契数列

AI: 这是一个计算斐波那契数列的 Python 函数：

```python
def fibonacci(n):
    if n <= 0:
        return []
    elif n == 1:
        return [0]
    elif n == 2:
        return [0, 1]

    fib = [0, 1]
    for i in range(2, n):
        fib.append(fib[i-1] + fib[i-2])
    return fib

# 使用示例
print(fibonacci(10))  # [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]
```
```

### 数据分析

```
User: 分析这个 CSV 文件的数据趋势
[上传文件]

AI: [使用 Agent 模式调用数据分析工具]
```
