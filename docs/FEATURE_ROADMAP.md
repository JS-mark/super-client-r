# Super Client R 功能开发路线图

> 最后更新：2026-02-18

## 概述

本文档定义 Super Client R 的功能开发计划和当前实现状态。

详细 PRD 和交互设计请参阅 [PRD.md](./PRD.md)。

---

## 已完成功能（Phase 0）

以下功能已实现并通过验收：

### 1. 消息管理增强 ✅ 已完成

- [x] 消息搜索（全文检索 + 高亮）
- [x] 消息收藏/书签 + 标签系统
- [x] 消息导出（Markdown/JSON）
- [x] 消息右键上下文菜单
- [ ] 消息删除（TODO）
- [ ] 消息持久化（TODO - 当前仅内存）

### 2. 快捷键系统 ✅ 已完成

- [x] 15+ 默认快捷键（全局/聊天/导航/输入）
- [x] 快捷键录制和自定义
- [x] 冲突检测
- [x] 启用/禁用/重置

### 3. 工作区管理 ✅ 已完成

- [x] CRUD + 类型（个人/工作/项目/临时）
- [x] 工作区级设置（模型/温度/系统提示词）
- [x] 导入/导出/复制
- [x] 切换器 UI
- [ ] 导出消息关联（依赖消息持久化）

### 4. 文件附件系统 ✅ 已完成

- [x] 拖拽上传 + 进度条
- [x] 类型分类（图片/文档/代码/音频/视频/压缩包）
- [x] 图片画廊预览
- [x] 多选/删除/系统打开

### 5. MCP 服务器管理 ✅ 已完成

- [x] 内置/第三方/市场三类 MCP
- [x] stdio/sse/http 三种传输
- [x] 连接状态监控 + 工具发现
- [x] 配置编辑 + 一键安装

### 6. 菜单自定义 ✅ 已完成

- [x] 图标类型（预设/Emoji/图片）
- [x] 拖拽排序 + 显隐控制
- [x] 标签自定义

### 7. 国际化 ✅ 已完成

- [x] 中英双语 16 个命名空间
- [x] 所有页面覆盖

### 8. 主题系统 ✅ 已完成

- [x] 亮色/暗色/跟随系统
- [x] Ant Design + Tailwind 双系统集成

---

## 进行中功能

### 9. 插件系统 🟡 80% 完成 ⭐ 优先级：高

**已完成：**
- [x] PluginManager 生命周期管理
- [x] 插件扫描/发现/启停
- [x] 插件隔离存储 API（Memento）
- [x] 命令注册系统（`context.commands.registerCommand()`）
- [x] 命令执行 IPC + UI 展示
- [x] 内置插件市场（Prompt Templates 插件，一键安装）
- [x] 插件市场 UI（市场 + 已安装 + 命令执行）
- [x] 插件持久化（重启后自动恢复）
- [x] 插件开发文档（[PLUGIN_DEVELOPMENT.md](./PLUGIN_DEVELOPMENT.md)）

**待完成：**
- [ ] 远程 zip/tgz 插件包下载
- [ ] 市场后端服务对接
- [ ] 插件沙箱执行环境
- [ ] 插件权限管理

### 10. Skill 系统 🟡 70% 完成 ⭐ 优先级：高

**已完成：**
- [x] 市场浏览/搜索/筛选
- [x] 安装/卸载/更新检查
- [x] 详情弹窗

**待完成：**
- [ ] URL 下载 Skill 包
- [ ] 动态加载和沙箱执行
- [ ] 权限声明和授权
- [ ] semver 版本对比

### 11. AI 对话核心 🟡 80% 完成 ⭐ 优先级：P0

**已完成：**
- [x] Claude SDK 流式对话
- [x] 多会话管理
- [x] 工具调用渲染
- [x] 搜索/收藏/导出

**待完成：**
- [ ] 消息持久化（IndexedDB / SQLite）
- [ ] 会话 ID 管理（替换硬编码 "default"）
- [ ] 消息删除功能
- [ ] 附件与消息关联
- [ ] 滚动到指定消息

### 12. HTTP API Server 🟡 40% 完成 ⭐ 优先级：中

**已完成：**
- [x] Koa 框架 + 端口自动检测
- [x] Health Check + MCP 端点
- [x] Swagger 文档 + CORS

**待完成：**
- [ ] JWT 认证中间件
- [ ] API Key CRUD
- [ ] Chat/Agent/Skill API 端点
- [ ] 速率限制
- [ ] 代理转发

---

## 未来功能（Phase 4+）

| 功能 | 优先级 | 说明 |
|------|--------|------|
| 命令面板 | 中 | Cmd+Shift+P 全局命令入口 |
| 全局搜索 | 中 | 跨会话搜索消息 |
| 自动更新 | 高 | electron-updater 集成 |
| 性能监控仪表盘 | 低 | 内存/CPU 可视化 |
| 多语言扩展 | 低 | 日语/韩语等更多语言 |
| 团队协作 | 低 | 共享工作区/消息 |

---

## 代码架构治理

当前多个文件严重臃肿，需要优先拆分。详见 [PRD.md - 第3节](./PRD.md#3-代码架构治理组件拆分计划)。

| 文件 | 行数 | 优先级 |
|------|------|--------|
| Settings.tsx | 1,686 | 🔴 Critical |
| McpMarket.tsx | 1,095 | 🔴 Critical |
| Chat.tsx | 889 | 🔴 Critical |
| MenuSettings.tsx | 802 | 🔴 Critical |
| Workspaces.tsx | 693 | 🟠 High |
| SearchSettings.tsx | 626 | 🟠 High |
| Skills.tsx | 582 | 🟠 High |
| ShortcutSettings.tsx | 455 | 🟠 High |

---

## 验收标准

每个功能完成后需要满足：

- [ ] 功能实现完整
- [ ] 代码通过 TypeScript 检查 (`pnpm check`)
- [ ] UI/UX 符合设计规范
- [ ] 添加必要的国际化
- [ ] 页面文件 < 300行，组件文件 < 300行
- [ ] 自测通过
- [ ] 按功能拆分 Git commit

---

*创建日期：2026-02-11*
*最后更新：2026-02-18*
